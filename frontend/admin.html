<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreshMart Admin Dashboard</title>
        <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin-styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="admin-body">
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="container">
            <div class="admin-nav">
                <div class="logo">
                    <i class="fas fa-seedling"></i>
                    <span>FreshMart Admin</span>
                </div>
                <div class="admin-actions">
                    <a href="index.html" class="btn-secondary">
                        <i class="fas fa-store"></i> View Store
                    </a>
                    <div class="admin-user" onclick="toggleUserMenu()">
                        <i class="fas fa-user-shield"></i>
                        <span id="adminName">Admin</span>
                        <i class="fas fa-chevron-down user-dropdown-icon"></i>
                        <div id="userMenu" class="user-menu">
                            <a href="#" onclick="logout()" class="menu-item">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="admin-layout">
        <!-- Left Sidebar -->
        <nav class="admin-sidebar">
            <ul class="sidebar-nav">
                <li><a href="#dashboard" class="nav-link active" onclick="showSection('dashboard')" data-section="dashboard">
                    <i class="fas fa-chart-line"></i> Dashboard
                </a></li>
                <li><a href="#set-price" class="nav-link" onclick="showSection('set-price')" data-section="set-price">
                    <i class="fas fa-tags"></i> Set Prices
                </a></li>
                <li><a href="#products" class="nav-link" onclick="showSection('products')" data-section="products">
                    <i class="fas fa-boxes"></i> Products
                </a></li>
                <li><a href="#orders" class="nav-link" onclick="showSection('orders')" data-section="orders">
                    <i class="fas fa-shopping-bag"></i> Orders
                </a></li>
                <li><a href="#users" class="nav-link" onclick="showSection('users')" data-section="users">
                    <i class="fas fa-users"></i> Users
                </a></li>
            </ul>
        </nav>

        <!-- Admin Content -->
        <main class="admin-content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="admin-section active">
            <div class="container">
                <div class="section-header">
                    <h1><i class="fas fa-chart-line"></i> Dashboard Overview</h1>
                    <p>Welcome to your FreshMart admin dashboard</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon products">
                            <i class="fas fa-boxes"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalProducts">0</h3>
                            <p>Total Products</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon orders">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalOrders">0</h3>
                            <p>Total Orders</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon users">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalUsers">0</h3>
                            <p>Total Users</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon revenue">
                            <i class="fas fa-rupee-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalRevenue">â‚¹0</h3>
                            <p>Total Revenue</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3><i class="fas fa-chart-bar"></i> Quick Stats</h3>
                        <div class="quick-stats">
                            <div class="quick-stat">
                                <span class="stat-label">Active Products:</span>
                                <span class="stat-value" id="activeProducts">0</span>
                            </div>
                            <div class="quick-stat">
                                <span class="stat-label">Pending Orders:</span>
                                <span class="stat-value" id="pendingOrders">0</span>
                            </div>
                            <div class="quick-stat">
                                <span class="stat-label">Low Stock Items:</span>
                                <span class="stat-value text-warning" id="lowStock">0</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h3><i class="fas fa-clock"></i> Recent Activity</h3>
                        <div class="activity-list" id="recentActivity">
                            <div class="activity-item">
                                <i class="fas fa-plus text-success"></i>
                                <span>New product added</span>
                                <small>2 hours ago</small>
                            </div>
                            <div class="activity-item">
                                <i class="fas fa-shopping-cart text-primary"></i>
                                <span>New order received</span>
                                <small>5 hours ago</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Set Price Section -->
        <section id="set-price" class="admin-section">
            <div class="container">
                <div class="section-header">
                    <h1><i class="fas fa-tags"></i> Set Product Prices</h1>
                    <p>Manage and update prices for all products</p>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <h3>Product Price Management</h3>
                        <div class="table-actions">
                            <button class="btn-primary" onclick="refreshPrices()">
                                <i class="fas fa-sync"></i> Refresh
                            </button>
                        </div>
                    </div>
                    
                    <div class="data-table">
                        <table class="price-table">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Category</th>
                                    <th>Current Price</th>
                                    <th>Unit</th>
                                    <th>Stock</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="priceTableBody">
                                <!-- Price rows will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="admin-section">
            <div class="container">
                <div class="section-header">
                    <h1><i class="fas fa-boxes"></i> Product Management</h1>
                    <p>Add, edit, and manage your products</p>
                </div>
                
                <div class="coming-soon">
                    <i class="fas fa-tools"></i>
                    <h3>Coming Soon</h3>
                    <p>Product management features will be available soon!</p>
                </div>
            </div>
        </section>

        <!-- Orders Section -->
        <section id="orders" class="admin-section">
            <div class="orders-header">
                <h2><i class="fas fa-shopping-cart"></i> Order Management</h2>
                <div class="orders-stats">
                    <div class="order-stat-card">
                        <div class="order-stat-icon">
                            <i class="fas fa-receipt"></i>
                        </div>
                        <div class="order-stat-info">
                            <h3 id="totalOrdersCount">0</h3>
                            <p>Total Orders</p>
                        </div>
                    </div>
                    <div class="order-stat-card">
                        <div class="order-stat-icon">
                            <i class="fas fa-rupee-sign"></i>
                        </div>
                        <div class="order-stat-info">
                            <h3 id="totalRevenueStat">â‚¹0</h3>
                            <p>Total Revenue</p>
                        </div>
                    </div>
                    <div class="order-stat-card">
                        <div class="order-stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="order-stat-info">
                            <h3 id="todayOrdersCount">0</h3>
                            <p>Today's Orders</p>
                        </div>
                    </div>
                    <div class="order-stat-card">
                        <div class="order-stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="order-stat-info">
                            <h3 id="avgOrderValue">â‚¹0</h3>
                            <p>Avg Order Value</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="orders-timeline">
                <div class="timeline-header">
                    <h3><i class="fas fa-history"></i> Order Timeline</h3>
                    <div class="timeline-filters">
                        <select id="timelineFilter" onchange="filterOrderTimeline()">
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                            <option value="all" selected>All Time</option>
                        </select>
                        <button class="btn-refresh" onclick="refreshOrders()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>
                <div class="timeline-container" id="ordersTimeline">
                    <!-- Timeline items will be loaded here -->
                </div>
            </div>

            <div class="orders-table-section">
                <div class="table-header">
                    <h3><i class="fas fa-list"></i> All Orders</h3>
                    <div class="table-actions">
                        <input type="search" id="orderSearch" placeholder="Search orders..." onkeyup="searchOrders()">
                        <select id="statusFilter" onchange="filterOrders()">
                            <option value="all">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="completed">Completed</option>
                            <option value="cancelled">Cancelled</option>
                        </select>
                    </div>
                </div>
                <div class="orders-table-container">
                    <table class="orders-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Items</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                            <!-- Orders will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Users Section -->
        <section id="users" class="admin-section">
            <div class="container">
                <div class="section-header">
                    <h1><i class="fas fa-users"></i> User Management</h1>
                    <p>Manage customer accounts and permissions</p>
                </div>
                
                <div class="coming-soon">
                    <i class="fas fa-tools"></i>
                    <h3>Coming Soon</h3>
                    <p>User management features will be available soon!</p>
                </div>
            </div>
        </section>
        </main>
    </div> <!-- End admin-layout -->

    <!-- Price Edit Modal -->
    <div class="modal" id="priceEditModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-edit"></i> Edit Product Price</h3>
                <button class="close-modal" onclick="closePriceEditModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="price-edit-form">
                    <div class="product-info">
                        <h4 id="editProductName">Product Name</h4>
                        <p id="editProductCategory">Category</p>
                    </div>
                    
                    <form id="priceEditForm">
                        <div class="input-group">
                            <label>Current Price</label>
                            <div class="price-input">
                                <span class="currency">â‚¹</span>
                                <input type="number" id="currentPrice" readonly>
                                <span class="unit" id="currentUnit">/kg</span>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>New Price <span class="required">*</span></label>
                            <div class="price-input">
                                <span class="currency">â‚¹</span>
                                <input type="number" id="newPrice" step="0.01" min="0.01" required>
                                <span class="unit" id="newUnit">/kg</span>
                            </div>
                        </div>
                        
                        <div class="price-change" id="priceChange" style="display: none;">
                            <span class="change-label">Price Change:</span>
                            <span class="change-amount" id="changeAmount">+â‚¹0.00</span>
                            <span class="change-percent" id="changePercent">(+0%)</span>
                        </div>
                        
                        <div class="modal-actions">
                            <button type="button" class="btn-secondary" onclick="closePriceEditModal()">Cancel</button>
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-save"></i> Update Price
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Loading Spinner -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <span>Loading...</span>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="admin.js"></script>
</body>
</html>